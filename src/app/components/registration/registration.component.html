<body *ngIf="!registered; else userRegistered">

<div class="page-wrapper bg-dark">
  <div class="card card-6">
    <div class="card-heading">
      <h2 class="title">Register new account</h2>
    </div>

    <div class="card-body">
      <form [formGroup]="registerForm" (ngSubmit)="onFormSubmit()" id="contactForm">


        <div class="form-row"><label class="name" for="name">Name</label>
          <div class="value">
            <input class="input--style-6" type="text" formControlName="name" id="name" tabindex="1"
                   placeholder="Enter your name here"/>
            <div *ngIf="submitted && errorFiled.name.errors">
              <small *ngIf="errorFiled.name.errors.required" class="error">Name is required</small>
              <small *ngIf="errorFiled.name.errors.minlength" class="error">Name must be at least 6 characters</small>
              <small *ngIf="errorFiled.name.errors.maxlength" class="error">Name must be shorter, delete at least
                {{registerForm.get('name').errors.maxlength.actualLength - registerForm.get('name').errors.maxlength.requiredLength }}
                characters</small>
            </div>
          </div>
        </div>

        <div class="form-row"><label class="name" for="surname">Surname</label>
          <div class="value">
            <input class="input--style-6" type="text" formControlName="surname" id="surname"
                   placeholder="Enter surname here"/>
            <div *ngIf="submitted && errorFiled.surname.errors">
              <small *ngIf="errorFiled.surname.errors.required" class="error">Surname is required</small>
              <small *ngIf="errorFiled.surname.errors.minlength" class="error">Surname must be at least 6
                characters</small>
              <small *ngIf="errorFiled.surname.errors.maxlength" class="error">Surname must be shorter, delete at least
                {{registerForm.get('surname').errors.maxlength.actualLength - registerForm.get('surname').errors.maxlength.requiredLength }}
                characters</small>
            </div>
          </div>
        </div>

        <div class="
        form-row"><label class="name" for="email">Email</label>
          <div class="value">
            <input class="input--style-6" type="text" formControlName="email" id="email" tabindex="2"
                   placeholder="Enter email here"/>
            <div *ngIf="submitted && errorFiled.email.errors">
              <small *ngIf="errorFiled.email.errors.required" class="error">Email is required</small>
              <small *ngIf="errorFiled.email.errors.email" class="error">Enter valid email address</small>
            </div>
          </div>
        </div>

        <div class="form-row"><label class="name" for="dateOfBirth">Date Of Birth</label>
          <div class="value">
            <p-calendar formControlName="dateOfBirth" [inline]="false" dateFormat="dd.mm.yy" dataType="string"
                        [showIcon]="true" id="dateOfBirth"></p-calendar>
            <div *ngIf="submitted && errorFiled.dateOfBirth.errors">
              <small *ngIf="errorFiled.dateOfBirth.errors.required" class="error">Date of birth is required</small>
            </div>
          </div>
        </div>
        <div>


          <fieldset>
            <legend>
              Login data:
            </legend>


            <div class="form-row"><label class="name" for="login">Login</label>
              <div class="value">
                <input class="input--style-6" type="text" formControlName="userLogin" id="login" tabindex="2"
                       placeholder="Enter login here"/>
                <div *ngIf="submitted && errorFiled.userLogin.errors">
                  <small *ngIf="errorFiled.userLogin.errors.required" class="error">Login is required</small>
                  <small *ngIf="errorFiled.userLogin.errors.minlength" class="error">Login must be at least 6
                    characters</small>
                  <small *ngIf="errorFiled.userLogin.errors.maxlength" class="error">Login must be shorter, delete at
                    least
                    {{registerForm.get('userLogin').errors.maxlength.actualLength - registerForm.get('userLogin').errors.maxlength.requiredLength }}
                    characters</small>
                  <small *ngIf="errorFiled.userLogin.errors.uniqueLogin" class="error">
                    Login {{registerForm.get('userLogin').value}} is already taken
                  </small>
                </div>
              </div>
            </div>


            <div class="form-row"><label class="name" for="password">Password</label>
              <div class="value">
                <input class="input--style-6" type="password" id="password" formControlName="password" tabindex="2"
                       placeholder="Enter login here"/>
                <div *ngIf="submitted && errorFiled.password.errors">
                  <small *ngIf="errorFiled.password.errors.required" class="error">Password is required</small>
                  <small *ngIf="errorFiled.password.errors.minlength" class="error">Password must be at least 6
                    characters</small>
                  <small *ngIf="errorFiled.password.errors.maxlength" class="error">Password must be shorter, delete at
                    least
                    {{registerForm.get('password').errors.maxlength.actualLength - registerForm.get('password').errors.maxlength.requiredLength }}
                    characters</small>
                </div>
              </div>
            </div>
          </fieldset>

        </div>
        <div class="card-footer">

          <button class="btn btn--radius-2 " type="submit" pRipple>Register now</button>
          <button class="btn btn--radius-2 " routerLink="/login" type="submit" pRipple>Back to login</button>
        </div>

      </form>
    </div>

  </div>
</div>
</body>

<ng-template #userRegistered>
  <div class="card-success">
    <div class="success-template">
      <i class="checkmark">âœ“</i>
    </div>
    <h1 class="success-templateH">Success</h1>
    <p class="success-templateP">You were successfully registered!</p>
  </div>
</ng-template>


